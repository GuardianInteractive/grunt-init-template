<!doctype html>
<html lang='en-GB'>
<head>
	<meta charset='utf-8'>
	<title>Previewing {%= name %}</title>

	<!-- CSS -->
	<link rel='stylesheet' href='preview.css'>
</head>

<body>
	<h1><span id='form'></span> &ndash; <span id='width'></span>x<span id='height'></span></h1>
	<p><a href='./index.html'>&laquo; back to preview list</a></p>
	<p>Your mileage may vary! Test thoroughly on real devices. Mobile device simulations assume we have the following meta tag:</p>
	<code>&lt;meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1'&gt;</code>

	<div id='container'></div>

	<!-- JS -->
	<script>
		window.onload = function () {

            function getURLParameter(name) {
                return decodeURIComponent((RegExp('[?|&]' + name + '=' + '(.+?)(&|#|;|$)').exec(location.search)||[,""])[1].replace(/\+/g, '%20')) || null;
            }

            var form = getURLParameter('form') || 'iframe';
            var width = parseInt(getURLParameter('width')) || 940;
            var height = parseInt(getURLParameter('height')) || 600;
            var src = getURLParameter('src') || '../generated/index.html';

            var iframe = document.createElement('iframe');
			iframe.width = width;
            iframe.height = height;
            iframe.src = src;

			document.getElementById('form').innerHTML = form;
			document.getElementById('width').innerHTML = ''+width;
			document.getElementById('height').innerHTML = ''+height;

			document.getElementById('container').appendChild(iframe);
		}
	</script>
</body>
</html>